<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>事件修饰符</title>
</head>

<body>
    <div id="app">
        <div>
            <p>.stop: 阻止事件冒泡</p>
            <div @click="Alert()"
                style="width: 100px;height:100px;padding:50px 50px;line-height:100px;border:1px solid #333333">
                <div @click.stop="Click()" style="width: 50px;height:50px;border:1px solid #333333">
                </div>
            </div>
        </div>

        <div>
            <p>.prevent: 阻止事件默认行为，使其执行自定义方法</p>
            <input type="radio" value="1" @click.prevent="Alert()">
        </div>

        <div>
            <p>.capture: 按捕获方式执行事件(当点击内部事件时，会先执行外部事件；优先级最高的)</p>
            <div @click.capture="Alert()"
                style="width: 100px;height:100px;padding:50px 50px;line-height:100px;border:1px solid #333333">
                <div @click="Click()" style="width: 50px;height:50px;border:1px solid #333333">
                </div>
            </div>
        </div>

        <div>
            <p>.once: 仅仅执行一次</p>
            <input type="button" value="Once Click" @click.once="Alert()">
        </div>
 
        <div>
            <p>.self 当前元素才能触发（冒泡也并不会执行）</p>
            <div @click.self="Alert()"
                style="width: 100px;height:100px;padding:50px 50px;line-height:100px;border:1px solid #333333">
                <div @click="Click()" style="width: 50px;height:50px;border:1px solid #333333">
                </div>
            </div>
        </div>

        <div>
            <p>.passive</p>
            <p>
                passive这个修饰符会执行默认方法。你们可能会问，明明默认执行为什么会设置这样一个修饰符。这就要说一下这个修饰符的本意了。
                【浏览器只有等内核线程执行到事件监听器对应的JavaScript代码时，才能知道内部是否会调用preventDefault函数来阻止事件的默认行为，所以浏览器本身是没有办法对这种场景进行优化的。这种场景下，用户的手势事件无法快速产生，会导致页面无法快速执行滑动逻辑，从而让用户感觉到页面卡顿。】
                通俗点说就是每次事件产生，浏览器都会去查询一下是否有preventDefault阻止该次事件的默认动作。我们加上passive就是为了告诉浏览器，不用查询了，我们没用preventDefault阻止默认动作。
                这里一般用在滚动监听，@scoll，@touchmove
                。因为滚动监听过程中，移动每个像素都会产生一次事件，每次都使用内核线程查询prevent会使滑动卡顿。我们通过passive将内核线程查询跳过，可以大大提升滑动的流畅度。
            </p>
            <p>
                注意：换句话说也就是passive和prevent其实是相反的一个修饰符，prevent是阻止默认事件方法，执行自定义函数，而passive是一定执行默认事件方法（其他自定义方法也会执行）所以两者是冲突的，不可以同时使用，如果一起使用就会.prevent会失效，同时我们也会收获浏览器的一个警告。
            </p>
        </div>
    </div>

    <script type="text/javascript" src="https://unpkg.com/vue"></script>
    <script type="text/javascript" src="https://unpkg.com/vue"></script>
    <script type="text/javascript" src="app.js"></script>
</body>

</html>